/*!
 * Chart.js
 * http://chartjs.org/
 *
 * Copyright 2014 Nick Downie
 * Released under the MIT license
 * https://github.com/nnnick/Chart.js/blob/master/LICENSE.md
 */
(function(){var w=this,E=w.Chart;var B=function(R){var T=this;this.canvas=R.canvas;this.ctx=R;var S=this.width=R.canvas.width;var Q=this.height=R.canvas.height;this.aspectRatio=this.width/this.height;C.retinaScale(this);return this};B.defaults={global:{animation:true,animationSteps:60,animationEasing:"easeOutQuart",showScale:true,scaleOverride:false,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:true,scaleLabel:"<%=value%>",scaleIntegersOnly:true,scaleBeginAtZero:false,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:false,showTooltips:true,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}};B.types={};var C=B.helpers={};var H=C.each=function(T,V,R){var Q=Array.prototype.slice.call(arguments,3);if(T){if(T.length===+T.length){var S;for(S=0;S<T.length;S++){V.apply(R,[T[S],S].concat(Q))}}else{for(var U in T){V.apply(R,[T[U],U].concat(Q))}}}},u=C.clone=function(R){var Q={};H(R,function(T,S){if(R.hasOwnProperty(S)){Q[S]=T}});return Q},p=C.extend=function(Q){H(Array.prototype.slice.call(arguments,1),function(R){H(R,function(T,S){if(R.hasOwnProperty(S)){Q[S]=T}})});return Q},F=C.merge=function(S,R){var Q=Array.prototype.slice.call(arguments,0);Q.unshift({});return p.apply(null,Q)},r=C.indexOf=function(Q,S){if(Array.prototype.indexOf){return Q.indexOf(S)}else{for(var R=0;R<Q.length;R++){if(Q[R]===S){return R}}return -1}},g=C.inherits=function(R){var Q=this;var S=(R&&R.hasOwnProperty("constructor"))?R.constructor:function(){return Q.apply(this,arguments)};var T=function(){this.constructor=S};T.prototype=Q.prototype;S.prototype=new T();S.extend=g;if(R){p(S.prototype,R)}S.__super__=Q.prototype;return S},K=C.noop=function(){},i=C.uid=(function(){var Q=0;return function(){return"chart-"+Q++}})(),o=C.warn=function(Q){if(window.console&&typeof window.console.warn=="function"){console.warn(Q)}},j=C.amd=(typeof w.define=="function"&&w.define.amd),O=C.isNumber=function(Q){return !isNaN(parseFloat(Q))&&isFinite(Q)},v=C.max=function(Q){return Math.max.apply(Math,Q)},N=C.min=function(Q){return Math.min.apply(Math,Q)},D=C.cap=function(Q,S,R){if(O(S)){if(Q>S){return S}}else{if(O(R)){if(Q<R){return R}}}return Q},A=C.getDecimalPlaces=function(Q){if(Q%1!==0&&O(Q)){return Q.toString().split(".")[1].length}else{return 0}},G=C.radians=function(Q){return Q*(Math.PI/180)},a=C.getAngleFromPoint=function(T,R){var U=R.x-T.x,Q=R.y-T.y,S=Math.sqrt(U*U+Q*Q);var V=Math.PI*2+Math.atan2(Q,U);if(U<0&&Q<0){V+=Math.PI*2}return{angle:V,distance:S}},m=C.aliasPixel=function(Q){return(Q%2===0)?0:0.5},b=C.splineCurve=function(R,U,W,Q){var V=Math.sqrt(Math.pow(U.x-R.x,2)+Math.pow(U.y-R.y,2)),X=Math.sqrt(Math.pow(W.x-U.x,2)+Math.pow(W.y-U.y,2)),T=Q*V/(V+X),S=Q*X/(V+X);return{inner:{x:U.x-T*(W.x-R.x),y:U.y-T*(W.y-R.y)},outer:{x:U.x+S*(W.x-R.x),y:U.y+S*(W.y-R.y)}}},M=C.calculateOrderOfMagnitude=function(Q){return Math.floor(Math.log(Q)/Math.LN10)},l=C.calculateScaleRange=function(R,W,Q,S,V){var ac=2,X=Math.floor(W/(Q*1.5)),ag=(ac>=X);var Y=v(R),ae=N(R);if(Y===ae){Y+=0.5;if(ae>=0.5&&!S){ae-=0.5}else{Y+=0.5}}var aa=Math.abs(Y-ae),ab=M(aa),T=Math.ceil(Y/(1*Math.pow(10,ab)))*Math.pow(10,ab),ad=(S)?0:Math.floor(ae/(1*Math.pow(10,ab)))*Math.pow(10,ab),U=T-ad,Z=Math.pow(10,ab),af=Math.round(U/Z);while((af>X||(af*2)<X)&&!ag){if(af>X){Z*=2;af=Math.round(U/Z);if(af%1!==0){ag=true}}else{if(V&&ab>=0){if(Z/2%1===0){Z/=2;af=Math.round(U/Z)}else{break}}else{Z/=2;af=Math.round(U/Z)}}}if(ag){af=ac;Z=U/af}return{steps:af,stepValue:Z,min:ad,max:ad+(af*Z)}},h=C.template=function(T,S){var R={};function Q(W,V){var U=!/\W/.test(W)?R[W]=R[W]:new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+W.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return V?U(V):U}return Q(T,S)},q=C.generateLabels=function(T,R,U,Q){var S=new Array(R);if(labelTemplateString){H(S,function(W,V){S[V]=h(T,{value:(U+(Q*(V+1)))})})}return S},I=C.easingEffects={linear:function(Q){return Q},easeInQuad:function(Q){return Q*Q},easeOutQuad:function(Q){return -1*Q*(Q-2)},easeInOutQuad:function(Q){if((Q/=1/2)<1){return 1/2*Q*Q}return -1/2*((--Q)*(Q-2)-1)},easeInCubic:function(Q){return Q*Q*Q},easeOutCubic:function(Q){return 1*((Q=Q/1-1)*Q*Q+1)},easeInOutCubic:function(Q){if((Q/=1/2)<1){return 1/2*Q*Q*Q}return 1/2*((Q-=2)*Q*Q+2)},easeInQuart:function(Q){return Q*Q*Q*Q},easeOutQuart:function(Q){return -1*((Q=Q/1-1)*Q*Q*Q-1)},easeInOutQuart:function(Q){if((Q/=1/2)<1){return 1/2*Q*Q*Q*Q}return -1/2*((Q-=2)*Q*Q*Q-2)},easeInQuint:function(Q){return 1*(Q/=1)*Q*Q*Q*Q},easeOutQuint:function(Q){return 1*((Q=Q/1-1)*Q*Q*Q*Q+1)},easeInOutQuint:function(Q){if((Q/=1/2)<1){return 1/2*Q*Q*Q*Q*Q}return 1/2*((Q-=2)*Q*Q*Q*Q+2)},easeInSine:function(Q){return -1*Math.cos(Q/1*(Math.PI/2))+1},easeOutSine:function(Q){return 1*Math.sin(Q/1*(Math.PI/2))},easeInOutSine:function(Q){return -1/2*(Math.cos(Math.PI*Q/1)-1)},easeInExpo:function(Q){return(Q===0)?1:1*Math.pow(2,10*(Q/1-1))},easeOutExpo:function(Q){return(Q===1)?1:1*(-Math.pow(2,-10*Q/1)+1)},easeInOutExpo:function(Q){if(Q===0){return 0}if(Q===1){return 1}if((Q/=1/2)<1){return 1/2*Math.pow(2,10*(Q-1))}return 1/2*(-Math.pow(2,-10*--Q)+2)},easeInCirc:function(Q){if(Q>=1){return Q}return -1*(Math.sqrt(1-(Q/=1)*Q)-1)},easeOutCirc:function(Q){return 1*Math.sqrt(1-(Q=Q/1-1)*Q)},easeInOutCirc:function(Q){if((Q/=1/2)<1){return -1/2*(Math.sqrt(1-Q*Q)-1)}return 1/2*(Math.sqrt(1-(Q-=2)*Q)+1)},easeInElastic:function(R){var S=1.70158;var T=0;var Q=1;if(R===0){return 0}if((R/=1)==1){return 1}if(!T){T=1*0.3}if(Q<Math.abs(1)){Q=1;S=T/4}else{S=T/(2*Math.PI)*Math.asin(1/Q)}return -(Q*Math.pow(2,10*(R-=1))*Math.sin((R*1-S)*(2*Math.PI)/T))},easeOutElastic:function(R){var S=1.70158;var T=0;var Q=1;if(R===0){return 0}if((R/=1)==1){return 1}if(!T){T=1*0.3}if(Q<Math.abs(1)){Q=1;S=T/4}else{S=T/(2*Math.PI)*Math.asin(1/Q)}return Q*Math.pow(2,-10*R)*Math.sin((R*1-S)*(2*Math.PI)/T)+1},easeInOutElastic:function(R){var S=1.70158;var T=0;var Q=1;if(R===0){return 0}if((R/=1/2)==2){return 1}if(!T){T=1*(0.3*1.5)}if(Q<Math.abs(1)){Q=1;S=T/4}else{S=T/(2*Math.PI)*Math.asin(1/Q)}if(R<1){return -0.5*(Q*Math.pow(2,10*(R-=1))*Math.sin((R*1-S)*(2*Math.PI)/T))}return Q*Math.pow(2,-10*(R-=1))*Math.sin((R*1-S)*(2*Math.PI)/T)*0.5+1},easeInBack:function(Q){var R=1.70158;return 1*(Q/=1)*Q*((R+1)*Q-R)},easeOutBack:function(Q){var R=1.70158;return 1*((Q=Q/1-1)*Q*((R+1)*Q+R)+1)},easeInOutBack:function(Q){var R=1.70158;if((Q/=1/2)<1){return 1/2*(Q*Q*(((R*=(1.525))+1)*Q-R))}return 1/2*((Q-=2)*Q*(((R*=(1.525))+1)*Q+R)+2)},easeInBounce:function(Q){return 1-I.easeOutBounce(1-Q)},easeOutBounce:function(Q){if((Q/=1)<(1/2.75)){return 1*(7.5625*Q*Q)}else{if(Q<(2/2.75)){return 1*(7.5625*(Q-=(1.5/2.75))*Q+0.75)}else{if(Q<(2.5/2.75)){return 1*(7.5625*(Q-=(2.25/2.75))*Q+0.9375)}else{return 1*(7.5625*(Q-=(2.625/2.75))*Q+0.984375)}}}},easeInOutBounce:function(Q){if(Q<1/2){return I.easeInBounce(Q*2)*0.5}return I.easeOutBounce(Q*2-1)*0.5+1*0.5}},d=C.requestAnimFrame=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(Q){return window.setTimeout(Q,1000/60)}})(),J=C.cancelAnimFrame=(function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(Q){return window.clearTimeout(Q,1000/60)}})(),x=C.animationLoop=function(V,Q,U,W,T,Y){var R=0,X=I[U]||I.linear;var S=function(){R++;var aa=R/Q;var Z=X(aa);V.call(Y,Z,aa,R);W.call(Y,Z,aa);if(R<Q){Y.animationFrame=d(S)}else{T.apply(Y)}};d(S)},y=C.getRelativePosition=function(Q){var U,T;var V=Q.originalEvent||Q,S=Q.currentTarget||Q.srcElement,R=S.getBoundingClientRect();if(V.touches){U=V.touches[0].clientX-R.left;T=V.touches[0].clientY-R.top}else{U=V.clientX-R.left;T=V.clientY-R.top}return{x:U,y:T}},n=C.addEvent=function(R,Q,S){if(R.addEventListener){R.addEventListener(Q,S)}else{if(R.attachEvent){R.attachEvent("on"+Q,S)}else{R["on"+Q]=S}}},c=C.removeEvent=function(S,Q,R){if(S.removeEventListener){S.removeEventListener(Q,R,false)}else{if(S.detachEvent){S.detachEvent("on"+Q,R)}else{S["on"+Q]=K}}},L=C.bindEvents=function(Q,S,R){if(!Q.events){Q.events={}}H(S,function(T){Q.events[T]=function(){R.apply(Q,arguments)};n(Q.chart.canvas,T,Q.events[T])})},P=C.unbindEvents=function(Q,R){H(R,function(T,S){c(Q.chart.canvas,S,T)})},t=C.getMaximumSize=function(R){var Q=R.parentNode;return Q.clientWidth},f=C.retinaScale=function(T){var R=T.ctx,S=T.canvas.width,Q=T.canvas.height;if(window.devicePixelRatio){R.canvas.style.width=S+"px";R.canvas.style.height=Q+"px";R.canvas.height=Q*window.devicePixelRatio;R.canvas.width=S*window.devicePixelRatio;R.scale(window.devicePixelRatio,window.devicePixelRatio)}},z=C.clear=function(Q){Q.ctx.clearRect(0,0,Q.width,Q.height)},e=C.fontString=function(R,S,Q){return S+" "+R+"px "+Q},s=C.longestText=function(Q,R,T){Q.font=R;var S=0;H(T,function(U){var V=Q.measureText(U).width;S=(V>S)?V:S});return S},k=C.drawRoundedRectangle=function(T,S,V,U,R,Q){T.beginPath();T.moveTo(S+Q,V);T.lineTo(S+U-Q,V);T.quadraticCurveTo(S+U,V,S+U,V+Q);T.lineTo(S+U,V+R-Q);T.quadraticCurveTo(S+U,V+R,S+U-Q,V+R);T.lineTo(S+Q,V+R);T.quadraticCurveTo(S,V+R,S,V+R-Q);T.lineTo(S,V+Q);T.quadraticCurveTo(S,V,S+Q,V);T.closePath()};B.instances={};B.Type=function(S,Q,R){this.options=Q;this.chart=R;this.id=i();B.instances[this.id]=this;if(Q.responsive){this.resize()}this.initialize.call(this,S)};p(B.Type.prototype,{initialize:function(){return this},clear:function(){z(this.chart);return this},stop:function(){C.cancelAnimFrame.call(w,this.animationFrame);return this},resize:function(T){this.stop();var R=this.chart.canvas,S=t(this.chart.canvas),Q=S/this.chart.aspectRatio;R.width=this.chart.width=S;R.height=this.chart.height=Q;f(this.chart);if(typeof T==="function"){T.apply(this,Array.prototype.slice.call(arguments,1))}return this},reflow:K,render:function(Q){if(Q){this.reflow()}if(this.options.animation&&!Q){C.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this)}else{this.draw();this.options.onAnimationComplete.call(this)}return this},generateLegend:function(){return h(this.options.legendTemplate,this)},destroy:function(){this.clear();P(this,this.events);delete B.instances[this.id]},showTooltip:function(R,S){if(typeof this.activeElements==="undefined"){this.activeElements=[]}var X=(function(aa){var Z=false;if(aa.length!==this.activeElements.length){Z=true;return Z}H(aa,function(ac,ab){if(ac!==this.activeElements[ab]){Z=true}},this);return Z}).call(this,R);if(!X&&!S){return}else{this.activeElements=R}this.draw();if(R.length>0){if(this.datasets&&this.datasets.length>1){var W,V;for(var T=this.datasets.length-1;T>=0;T--){W=this.datasets[T].points||this.datasets[T].bars||this.datasets[T].segments;V=r(W,R[0]);if(V!==-1){break}}var U=[],Q=[],Y=(function(ae){var Z=[],af,ah=[],ac=[],ad,ab,aa,ag;C.each(this.datasets,function(ai){af=ai.points||ai.bars||ai.segments;if(af[V]){Z.push(af[V])}});C.each(Z,function(ai){ah.push(ai.x);ac.push(ai.y);U.push(C.template(this.options.multiTooltipTemplate,ai));Q.push({fill:ai._saved.fillColor||ai.fillColor,stroke:ai._saved.strokeColor||ai.strokeColor})},this);ag=N(ac);ab=v(ac);aa=N(ah);ad=v(ah);return{x:(aa>this.chart.width/2)?aa:ad,y:(ag+ab)/2}}).call(this,V);new B.MultiTooltip({x:Y.x,y:Y.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:U,legendColors:Q,legendColorBackground:this.options.multiTooltipKeyBackground,title:R[0].label,chart:this.chart,ctx:this.chart.ctx}).draw()}else{H(R,function(Z){var aa=Z.tooltipPosition();new B.Tooltip({x:Math.round(aa.x),y:Math.round(aa.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:h(this.options.tooltipTemplate,Z),chart:this.chart}).draw()},this)}}return this},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}});B.Type.extend=function(U){var T=this;var S=function(){return T.apply(this,arguments)};S.prototype=u(T.prototype);p(S.prototype,U);S.extend=B.Type.extend;if(U.name||T.prototype.name){var R=U.name||T.prototype.name;var Q=(B.defaults[T.prototype.name])?u(B.defaults[T.prototype.name]):{};B.defaults[R]=p(Q,U.defaults);B.types[R]=S;B.prototype[R]=function(X,W){var V=F(B.defaults.global,B.defaults[R],W||{});return new S(X,V,this)}}else{o("Name not provided for this chart, so it hasn't been registered")}return T};B.Element=function(Q){p(this,Q);this.initialize.apply(this,arguments);this.save()};p(B.Element.prototype,{initialize:function(){},restore:function(Q){if(!Q){p(this,this._saved)}else{H(Q,function(R){this[R]=this._saved[R]},this)}return this},save:function(){this._saved=u(this);delete this._saved._saved;return this},update:function(Q){H(Q,function(S,R){this._saved[R]=this[R];this[R]=S},this);return this},transition:function(Q,R){H(Q,function(T,S){this[S]=((T-this._saved[S])*R)+this._saved[S]},this);return this},tooltipPosition:function(){return{x:this.x,y:this.y}}});B.Element.extend=g;B.Point=B.Element.extend({display:true,inRange:function(Q,S){var R=this.hitDetectionRadius+this.radius;return((Math.pow(Q-this.x,2)+Math.pow(S-this.y,2))<Math.pow(R,2))},draw:function(){if(this.display){var Q=this.ctx;Q.beginPath();Q.arc(this.x,this.y,this.radius,0,Math.PI*2);Q.closePath();Q.strokeStyle=this.strokeColor;Q.lineWidth=this.strokeWidth;Q.fillStyle=this.fillColor;Q.fill();Q.stroke()}}});B.Arc=B.Element.extend({inRange:function(R,U){var Q=C.getAngleFromPoint(this,{x:R,y:U});var T=(Q.angle>=this.startAngle&&Q.angle<=this.endAngle),S=(Q.distance>=this.innerRadius&&Q.distance<=this.outerRadius);return(T&&S)},tooltipPosition:function(){var Q=this.startAngle+((this.endAngle-this.startAngle)/2),R=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+(Math.cos(Q)*R),y:this.y+(Math.sin(Q)*R)}},draw:function(S){var R=S||1;var Q=this.ctx;Q.beginPath();Q.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle);Q.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,true);Q.closePath();Q.strokeStyle=this.strokeColor;Q.lineWidth=this.strokeWidth;Q.fillStyle=this.fillColor;Q.fill();Q.lineJoin="bevel";if(this.showStroke){Q.stroke()}}});B.Rectangle=B.Element.extend({draw:function(){var Q=this.ctx,V=this.width/2,S=this.x-V,R=this.x+V,U=this.base-(this.base-this.y),T=this.strokeWidth/2;if(this.showStroke){S+=T;R-=T;U+=T}Q.beginPath();Q.fillStyle=this.fillColor;Q.strokeStyle=this.strokeColor;Q.lineWidth=this.strokeWidth;Q.moveTo(S,this.base);Q.lineTo(S,U);Q.lineTo(R,U);Q.lineTo(R,this.base);Q.fill();if(this.showStroke){Q.stroke()}},height:function(){return this.base-this.y},inRange:function(Q,R){return(Q>=this.x-this.width/2&&Q<=this.x+this.width/2)&&(R>=this.y&&R<=this.base)}});B.Tooltip=B.Element.extend({draw:function(){var T=this.chart.ctx;T.font=e(this.fontSize,this.fontStyle,this.fontFamily);this.xAlign="center";this.yAlign="above";var S=2;var U=T.measureText(this.text).width+2*this.xPadding,R=this.fontSize+2*this.yPadding,V=R+this.caretHeight+S;if(this.x+U/2>this.chart.width){this.xAlign="left"}else{if(this.x-U/2<0){this.xAlign="right"}}if(this.y-V<0){this.yAlign="below"}var Q=this.x-U/2,W=this.y-V;T.fillStyle=this.fillColor;switch(this.yAlign){case"above":T.beginPath();T.moveTo(this.x,this.y-S);T.lineTo(this.x+this.caretHeight,this.y-(S+this.caretHeight));T.lineTo(this.x-this.caretHeight,this.y-(S+this.caretHeight));T.closePath();T.fill();break;case"below":W=this.y+S+this.caretHeight;T.beginPath();T.moveTo(this.x,this.y+S);T.lineTo(this.x+this.caretHeight,this.y+S+this.caretHeight);T.lineTo(this.x-this.caretHeight,this.y+S+this.caretHeight);T.closePath();T.fill();break}switch(this.xAlign){case"left":Q=this.x-U+(this.cornerRadius+this.caretHeight);break;case"right":Q=this.x-(this.cornerRadius+this.caretHeight);break}k(T,Q,W,U,R,this.cornerRadius);T.fill();T.fillStyle=this.textColor;T.textAlign="center";T.textBaseline="middle";T.fillText(this.text,Q+U/2,W+R/2)}});B.MultiTooltip=B.Element.extend({initialize:function(){this.font=e(this.fontSize,this.fontStyle,this.fontFamily);this.titleFont=e(this.titleFontSize,this.titleFontStyle,this.titleFontFamily);this.height=(this.labels.length*this.fontSize)+((this.labels.length-1)*(this.fontSize/2))+(this.yPadding*2)+this.titleFontSize*1.5;this.ctx.font=this.titleFont;var T=this.ctx.measureText(this.title).width,R=s(this.ctx,this.font,this.labels)+this.fontSize+3,S=v([R,T]);this.width=S+(this.xPadding*2);var Q=this.height/2;if(this.y-Q<0){this.y=Q}else{if(this.y+Q>this.chart.height){this.y=this.chart.height-Q}}if(this.x>this.chart.width/2){this.x-=this.xOffset+this.width}else{this.x+=this.xOffset}},getLineHeight:function(Q){var S=this.y-(this.height/2)+this.yPadding,R=Q-1;if(Q===0){return S+this.titleFontSize/2}else{return S+((this.fontSize*1.5*R)+this.fontSize/2)+this.titleFontSize*1.5}},draw:function(){k(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var Q=this.ctx;Q.fillStyle=this.fillColor;Q.fill();Q.closePath();Q.textAlign="left";Q.textBaseline="middle";Q.fillStyle=this.titleTextColor;Q.font=this.titleFont;Q.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0));Q.font=this.font;C.each(this.labels,function(S,R){Q.fillStyle=this.textColor;Q.fillText(S,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(R+1));Q.fillStyle=this.legendColorBackground;Q.fillRect(this.x+this.xPadding,this.getLineHeight(R+1)-this.fontSize/2,this.fontSize,this.fontSize);Q.fillStyle=this.legendColors[R].fill;Q.fillRect(this.x+this.xPadding,this.getLineHeight(R+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}});B.Scale=B.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];var R=A(this.stepValue);for(var Q=0;Q<=this.steps;Q++){this.yLabels.push(h(this.templateString,{value:(this.min+(Q*this.stepValue)).toFixed(R)}))}this.yLabelWidth=(this.display&&this.showLabels)?s(this.ctx,this.font,this.yLabels):0},addXLabel:function(Q){this.xLabels.push(Q);this.valuesCount++;this.fit()},removeXLabel:function(){this.xLabels.shift();this.valuesCount--;this.fit()},fit:function(){this.startPoint=(this.display)?this.fontSize:0;this.endPoint=(this.display)?this.height-(this.fontSize*1.5)-5:this.height;this.startPoint+=this.padding;this.endPoint-=this.padding;var R=this.endPoint-this.startPoint,Q;this.calculateYRange(R);this.buildYLabels();this.calculateXLabelRotation();while((R>this.endPoint-this.startPoint)){R=this.endPoint-this.startPoint;Q=this.yLabelWidth;this.calculateYRange(R);this.buildYLabels();if(Q<this.yLabelWidth){this.calculateXLabelRotation()}}},calculateXLabelRotation:function(){this.ctx.font=this.font;var S=this.ctx.measureText(this.xLabels[0]).width,Q=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width,R,X;this.xScalePaddingRight=Q/2+3;this.xScalePaddingLeft=(S/2>this.yLabelWidth+10)?S/2:this.yLabelWidth+10;this.xLabelRotation=0;if(this.display){var T=s(this.ctx,this.font,this.xLabels),W,U;this.xLabelWidth=T;var V=Math.floor(this.calculateX(1)-this.calculateX(0))-6;while((this.xLabelWidth>V&&this.xLabelRotation===0)||(this.xLabelWidth>V&&this.xLabelRotation<=90&&this.xLabelRotation>0)){W=Math.cos(G(this.xLabelRotation));R=W*S;X=W*Q;if(R+this.fontSize/2>this.yLabelWidth+8){this.xScalePaddingLeft=R+this.fontSize/2}this.xScalePaddingRight=this.fontSize/2;this.xLabelRotation++;this.xLabelWidth=W*T}if(this.xLabelRotation>0){this.endPoint-=Math.sin(G(this.xLabelRotation))*T+3}}else{this.xLabelWidth=0;this.xScalePaddingRight=this.padding;this.xScalePaddingLeft=this.padding}},calculateYRange:K,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(R){var Q=this.drawingArea()/(this.min-this.max);return this.endPoint-(Q*(R-this.min))},calculateX:function(S){var T=(this.xLabelRotation>0),R=this.width-(this.xScalePaddingLeft+this.xScalePaddingRight),Q=R/(this.valuesCount-((this.offsetGridLines)?0:1)),U=(Q*S)+this.xScalePaddingLeft;if(this.offsetGridLines){U+=(Q/2)}return Math.round(U)},update:function(Q){C.extend(this,Q);this.fit()},draw:function(){var Q=this.ctx,R=(this.endPoint-this.startPoint)/this.steps,S=Math.round(this.xScalePaddingLeft);if(this.display){Q.fillStyle=this.textColor;Q.font=this.font;H(this.yLabels,function(U,T){var V=this.endPoint-(R*T),W=Math.round(V);Q.textAlign="right";Q.textBaseline="middle";if(this.showLabels){Q.fillText(U,S-10,V)}Q.beginPath();if(T>0){Q.lineWidth=this.gridLineWidth;Q.strokeStyle=this.gridLineColor}else{Q.lineWidth=this.lineWidth;Q.strokeStyle=this.lineColor}W+=C.aliasPixel(Q.lineWidth);Q.moveTo(S,W);Q.lineTo(this.width,W);Q.stroke();Q.closePath();Q.lineWidth=this.lineWidth;Q.strokeStyle=this.lineColor;Q.beginPath();Q.moveTo(S-5,W);Q.lineTo(S,W);Q.stroke();Q.closePath()},this);H(this.xLabels,function(U,T){var X=this.calculateX(T)+m(this.lineWidth),V=this.calculateX(T-(this.offsetGridLines?0.5:0))+m(this.lineWidth),W=(this.xLabelRotation>0);Q.beginPath();if(T>0){Q.lineWidth=this.gridLineWidth;Q.strokeStyle=this.gridLineColor}else{Q.lineWidth=this.lineWidth;Q.strokeStyle=this.lineColor}Q.moveTo(V,this.endPoint);Q.lineTo(V,this.startPoint-3);Q.stroke();Q.closePath();Q.lineWidth=this.lineWidth;Q.strokeStyle=this.lineColor;Q.beginPath();Q.moveTo(V,this.endPoint);Q.lineTo(V,this.endPoint+5);Q.stroke();Q.closePath();Q.save();Q.translate(X,(W)?this.endPoint+12:this.endPoint+8);Q.rotate(G(this.xLabelRotation)*-1);Q.font=this.font;Q.textAlign=(W)?"right":"center";Q.textBaseline=(W)?"middle":"top";Q.fillText(U,0,0);Q.restore()},this)}}});B.RadialScale=B.Element.extend({initialize:function(){this.size=N([this.height,this.width]);this.drawingArea=(this.display)?(this.size/2)-(this.fontSize/2+this.backdropPaddingY):(this.size/2)},calculateCenterOffset:function(R){var Q=this.drawingArea/(this.max-this.min);return(R-this.min)*Q},update:function(){if(!this.lineArc){this.setScaleSize()}else{this.drawingArea=(this.display)?(this.size/2)-(this.fontSize/2+this.backdropPaddingY):(this.size/2)}this.buildYLabels()},buildYLabels:function(){this.yLabels=[];var R=A(this.stepValue);for(var Q=0;Q<=this.steps;Q++){this.yLabels.push(h(this.templateString,{value:(this.min+(Q*this.stepValue)).toFixed(R)}))}},getCircumference:function(){return((Math.PI*2)/this.valuesCount)},setScaleSize:function(){var Q=N([(this.height/2-this.pointLabelFontSize-5),this.width/2]),ae,U,ab,T,af=this.width,ad,X,W=0,aa,S,ac,Z,V,R,Y;this.ctx.font=e(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily);for(U=0;U<this.valuesCount;U++){ae=this.getPointPosition(U,Q);ab=this.ctx.measureText(h(this.templateString,{value:this.labels[U]})).width+5;if(U===0||U===this.valuesCount/2){T=ab/2;if(ae.x+T>af){af=ae.x+T;ad=U}if(ae.x-T<W){W=ae.x-T;aa=U}}else{if(U<this.valuesCount/2){if(ae.x+ab>af){af=ae.x+ab;ad=U}}else{if(U>this.valuesCount/2){if(ae.x-ab<W){W=ae.x-ab;aa=U}}}}}ac=W;Z=Math.ceil(af-this.width);X=this.getIndexAngle(ad);S=this.getIndexAngle(aa);V=Z/Math.sin(X+Math.PI/2);R=ac/Math.sin(S+Math.PI/2);V=(O(V))?V:0;R=(O(R))?R:0;this.drawingArea=Q-(R+V)/2;this.setCenterPoint(R,V)},setCenterPoint:function(T,Q){var S=this.width-Q-this.drawingArea,R=T+this.drawingArea;this.xCenter=(R+S)/2;this.yCenter=(this.height/2)},getIndexAngle:function(R){var Q=(Math.PI*2)/this.valuesCount;return R*Q-(Math.PI/2)},getPointPosition:function(R,S){var Q=this.getIndexAngle(R);return{x:(Math.cos(Q)*S)+this.xCenter,y:(Math.sin(Q)*S)+this.yCenter}},draw:function(){if(this.display){var Y=this.ctx;H(this.yLabels,function(ad,ac){if(ac>0){var ab=ac*(this.drawingArea/this.steps),aa=this.yCenter-ab,af;if(this.lineWidth>0){Y.strokeStyle=this.lineColor;Y.lineWidth=this.lineWidth;if(this.lineArc){Y.beginPath();Y.arc(this.xCenter,this.yCenter,ab,0,Math.PI*2);Y.closePath();Y.stroke()}else{Y.beginPath();for(var ae=0;ae<this.valuesCount;ae++){af=this.getPointPosition(ae,this.calculateCenterOffset(this.min+(ac*this.stepValue)));if(ae===0){Y.moveTo(af.x,af.y)}else{Y.lineTo(af.x,af.y)}}Y.closePath();Y.stroke()}}if(this.showLabels){Y.font=e(this.fontSize,this.fontStyle,this.fontFamily);if(this.showLabelBackdrop){var Z=Y.measureText(ad).width;Y.fillStyle=this.backdropColor;Y.fillRect(this.xCenter-Z/2-this.backdropPaddingX,aa-this.fontSize/2-this.backdropPaddingY,Z+this.backdropPaddingX*2,this.fontSize+this.backdropPaddingY*2)}Y.textAlign="center";Y.textBaseline="middle";Y.fillStyle=this.fontColor;Y.fillText(ad,this.xCenter,aa)}}},this);if(!this.lineArc){Y.lineWidth=this.angleLineWidth;Y.strokeStyle=this.angleLineColor;for(var S=this.valuesCount-1;S>=0;S--){if(this.angleLineWidth>0){var R=this.getPointPosition(S,this.calculateCenterOffset(this.max));Y.beginPath();Y.moveTo(this.xCenter,this.yCenter);Y.lineTo(R.x,R.y);Y.stroke();Y.closePath()}var V=this.getPointPosition(S,this.calculateCenterOffset(this.max)+5);Y.font=e(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily);Y.fillStyle=this.pointLabelFontColor;var Q=this.labels.length,T=this.labels.length/2,X=T/2,W=(S<X||S>Q-X),U=(S===X||S===Q-X);if(S===0){Y.textAlign="center"}else{if(S===T){Y.textAlign="center"}else{if(S<T){Y.textAlign="left"}else{Y.textAlign="right"}}}if(U){Y.textBaseline="middle"}else{if(W){Y.textBaseline="bottom"}else{Y.textBaseline="top"}}Y.fillText(this.labels[S],V.x,V.y)}}}}});C.addEvent(window,"resize",(function(){var Q;return function(){clearTimeout(Q);Q=setTimeout(function(){H(B.instances,function(R){if(R.options.responsive){R.resize(R.render,true)}})},50)}})());if(j){define(function(){return B})}else{if(typeof module==="object"&&module.exports){module.exports=B}}w.Chart=B;B.noConflict=function(){w.Chart=E;return B}}).call(this);(function(){var c=this,b=c.Chart,d=b.helpers;var a={scaleBeginAtZero:true,scaleShowGridLines:true,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:true,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};b.Type.extend({name:"Bar",defaults:a,initialize:function(f){var e=this.options;this.ScaleClass=b.Scale.extend({offsetGridLines:true,calculateBarX:function(g,l,i){var h=this.calculateBaseWidth(),k=this.calculateX(i)-(h/2),j=this.calculateBarWidth(g);return k+(j*l)+(l*e.barDatasetSpacing)+j/2},calculateBaseWidth:function(){return(this.calculateX(1)-this.calculateX(0))-(2*e.barValueSpacing)},calculateBarWidth:function(h){var g=this.calculateBaseWidth()-((h-1)*e.barDatasetSpacing);return(g/h)}});this.datasets=[];if(this.options.showTooltips){d.bindEvents(this,this.options.tooltipEvents,function(g){var h=(g.type!=="mouseout")?this.getBarsAtEvent(g):[];this.eachBars(function(i){i.restore(["fillColor","strokeColor"])});d.each(h,function(i){i.fillColor=i.highlightFill;i.strokeColor=i.highlightStroke});this.showTooltip(h)})}this.BarClass=b.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx});d.each(f.datasets,function(h,i){var g={label:h.label||null,fillColor:h.fillColor,strokeColor:h.strokeColor,bars:[]};this.datasets.push(g);d.each(h.data,function(j,k){if(d.isNumber(j)){g.bars.push(new this.BarClass({value:j,label:f.labels[k],datasetLabel:h.label,strokeColor:h.strokeColor,fillColor:h.fillColor,highlightFill:h.highlightFill||h.fillColor,highlightStroke:h.highlightStroke||h.strokeColor}))}},this)},this);this.buildScale(f.labels);this.BarClass.prototype.base=this.scale.endPoint;this.eachBars(function(h,g,i){d.extend(h,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,i,g),y:this.scale.endPoint});h.save()},this);this.render()},update:function(){this.scale.update();d.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])});this.eachBars(function(e){e.save()});this.render()},eachBars:function(e){d.each(this.datasets,function(f,g){d.each(f.bars,e,this,g)},this)},getBarsAtEvent:function(j){var g=[],i=d.getRelativePosition(j),f=function(e){g.push(e.bars[h])},h;for(var k=0;k<this.datasets.length;k++){for(h=0;h<this.datasets[k].bars.length;h++){if(this.datasets[k].bars[h].inRange(i.x,i.y)){d.each(this.datasets,f);return g}}}return g},buildScale:function(h){var f=this;var g=function(){var i=[];f.eachBars(function(j){i.push(j.value)});return i};var e={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:h.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(j){var i=d.calculateScaleRange(g(),j,this.fontSize,this.beginAtZero,this.integersOnly);d.extend(this,i)},xLabels:h,font:d.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,gridLineWidth:(this.options.scaleShowGridLines)?this.options.scaleGridLineWidth:0,gridLineColor:(this.options.scaleShowGridLines)?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:(this.options.showScale)?0:(this.options.barShowStroke)?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};if(this.options.scaleOverride){d.extend(e,{calculateYRange:d.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+(this.options.scaleSteps*this.options.scaleStepWidth)})}this.scale=new this.ScaleClass(e)},addData:function(f,e){d.each(f,function(g,h){if(d.isNumber(g)){this.datasets[h].bars.push(new this.BarClass({value:g,label:e,x:this.scale.calculateBarX(this.datasets.length,h,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[h].strokeColor,fillColor:this.datasets[h].fillColor}))}},this);this.scale.addXLabel(e);this.update()},removeData:function(){this.scale.removeXLabel();d.each(this.datasets,function(e){e.bars.shift()},this);this.update()},reflow:function(){d.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var e=d.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(g){var f=g||1;this.clear();var e=this.chart.ctx;this.scale.draw(f);d.each(this.datasets,function(h,i){d.each(h.bars,function(k,j){k.base=this.scale.endPoint;k.transition({x:this.scale.calculateBarX(this.datasets.length,i,j),y:this.scale.calculateY(k.value),width:this.scale.calculateBarWidth(this.datasets.length)},f).draw()},this)},this)}})}).call(this);(function(){var c=this,b=c.Chart,d=b.helpers;var a={segmentShowStroke:true,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:true,animateScale:false,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};b.Type.extend({name:"Doughnut",defaults:a,initialize:function(e){this.segments=[];this.outerRadius=(d.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2;this.SegmentArc=b.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2});if(this.options.showTooltips){d.bindEvents(this,this.options.tooltipEvents,function(f){var g=(f.type!=="mouseout")?this.getSegmentsAtEvent(f):[];d.each(this.segments,function(h){h.restore(["fillColor"])});d.each(g,function(h){h.fillColor=h.highlightColor});this.showTooltip(g)})}this.calculateTotal(e);d.each(e,function(g,f){this.addData(g,f,true)},this);this.render()},getSegmentsAtEvent:function(h){var g=[];var f=d.getRelativePosition(h);d.each(this.segments,function(e){if(e.inRange(f.x,f.y)){g.push(e)}},this);return g},addData:function(h,g,e){var f=g||this.segments.length;this.segments.splice(f,0,new this.SegmentArc({value:h.value,outerRadius:(this.options.animateScale)?0:this.outerRadius,innerRadius:(this.options.animateScale)?0:(this.outerRadius/100)*this.options.percentageInnerCutout,fillColor:h.color,highlightColor:h.highlight||h.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:Math.PI*1.5,circumference:(this.options.animateRotate)?0:this.calculateCircumference(h.value),label:h.label}));if(!e){this.reflow();this.update()}},calculateCircumference:function(e){return(Math.PI*2)*(e/this.total)},calculateTotal:function(e){this.total=0;d.each(e,function(f){this.total+=f.value},this)},update:function(){this.calculateTotal(this.segments);d.each(this.activeElements,function(e){e.restore(["fillColor"])});d.each(this.segments,function(e){e.save()});this.render()},removeData:function(f){var e=(d.isNumber(f))?f:this.segments.length-1;this.segments.splice(e,1);this.reflow();this.update()},reflow:function(){d.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2});this.outerRadius=(d.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2;d.each(this.segments,function(e){e.update({outerRadius:this.outerRadius,innerRadius:(this.outerRadius/100)*this.options.percentageInnerCutout})},this)},draw:function(e){var f=(e)?e:1;this.clear();d.each(this.segments,function(h,g){h.transition({circumference:this.calculateCircumference(h.value),outerRadius:this.outerRadius,innerRadius:(this.outerRadius/100)*this.options.percentageInnerCutout},f);h.endAngle=h.startAngle+h.circumference;h.draw();if(g===0){h.startAngle=Math.PI*1.5}if(g<this.segments.length-1){this.segments[g+1].startAngle=h.endAngle}},this)}});b.types.Doughnut.extend({name:"Pie",defaults:d.merge(a,{percentageInnerCutout:0})})}).call(this);(function(){var c=this,b=c.Chart,d=b.helpers;var a={scaleShowGridLines:true,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,bezierCurve:true,bezierCurveTension:0.4,pointDot:true,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:true,datasetStrokeWidth:2,datasetFill:true,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};b.Type.extend({name:"Line",defaults:a,initialize:function(e){this.PointClass=b.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(f){return(Math.pow(f-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2))}});this.datasets=[];if(this.options.showTooltips){d.bindEvents(this,this.options.tooltipEvents,function(f){var g=(f.type!=="mouseout")?this.getPointsAtEvent(f):[];this.eachPoints(function(h){h.restore(["fillColor","strokeColor"])});d.each(g,function(h){h.fillColor=h.highlightFill;h.strokeColor=h.highlightStroke});this.showTooltip(g)})}d.each(e.datasets,function(g){var f={label:g.label||null,fillColor:g.fillColor,strokeColor:g.strokeColor,pointColor:g.pointColor,pointStrokeColor:g.pointStrokeColor,points:[]};this.datasets.push(f);d.each(g.data,function(h,i){if(d.isNumber(h)){f.points.push(new this.PointClass({value:h,label:e.labels[i],datasetLabel:g.label,strokeColor:g.pointStrokeColor,fillColor:g.pointColor,highlightFill:g.pointHighlightFill||g.pointColor,highlightStroke:g.pointHighlightStroke||g.pointStrokeColor}))}},this);this.buildScale(e.labels);this.eachPoints(function(h,i){d.extend(h,{x:this.scale.calculateX(i),y:this.scale.endPoint});h.save()},this)},this);this.render()},update:function(){this.scale.update();d.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])});this.eachPoints(function(e){e.save()});this.render()},eachPoints:function(e){d.each(this.datasets,function(f){d.each(f.points,e,this)},this)},getPointsAtEvent:function(g){var h=[],f=d.getRelativePosition(g);d.each(this.datasets,function(e){d.each(e.points,function(i){if(i.inRange(f.x,f.y)){h.push(i)}})},this);return h},buildScale:function(h){var f=this;var g=function(){var i=[];f.eachPoints(function(j){i.push(j.value)});return i};var e={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:h.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(j){var i=d.calculateScaleRange(g(),j,this.fontSize,this.beginAtZero,this.integersOnly);d.extend(this,i)},xLabels:h,font:d.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,gridLineWidth:(this.options.scaleShowGridLines)?this.options.scaleGridLineWidth:0,gridLineColor:(this.options.scaleShowGridLines)?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:(this.options.showScale)?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};if(this.options.scaleOverride){d.extend(e,{calculateYRange:d.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+(this.options.scaleSteps*this.options.scaleStepWidth)})}this.scale=new b.Scale(e)},addData:function(f,e){d.each(f,function(g,h){if(d.isNumber(g)){this.datasets[h].points.push(new this.PointClass({value:g,label:e,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[h].pointStrokeColor,fillColor:this.datasets[h].pointColor}))}},this);this.scale.addXLabel(e);this.update()},removeData:function(){this.scale.removeXLabel();d.each(this.datasets,function(e){e.points.shift()},this);this.update()},reflow:function(){var e=d.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(g){var f=g||1;this.clear();var e=this.chart.ctx;this.scale.draw(f);d.each(this.datasets,function(h){d.each(h.points,function(i,j){i.transition({y:this.scale.calculateY(i.value),x:this.scale.calculateX(j)},f)},this);if(this.options.bezierCurve){d.each(h.points,function(i,j){if(j===0){i.controlPoints=d.splineCurve(i,i,h.points[j+1],0)}else{if(j>=h.points.length-1){i.controlPoints=d.splineCurve(h.points[j-1],i,i,0)}else{i.controlPoints=d.splineCurve(h.points[j-1],i,h.points[j+1],this.options.bezierCurveTension)}}},this)}e.lineWidth=this.options.datasetStrokeWidth;e.strokeStyle=h.strokeColor;e.beginPath();d.each(h.points,function(i,j){if(j>0){if(this.options.bezierCurve){e.bezierCurveTo(h.points[j-1].controlPoints.outer.x,h.points[j-1].controlPoints.outer.y,i.controlPoints.inner.x,i.controlPoints.inner.y,i.x,i.y)}else{e.lineTo(i.x,i.y)}}else{e.moveTo(i.x,i.y)}},this);e.stroke();if(this.options.datasetFill){e.lineTo(h.points[h.points.length-1].x,this.scale.endPoint);e.lineTo(this.scale.calculateX(0),this.scale.endPoint);e.fillStyle=h.fillColor;e.closePath();e.fill()}d.each(h.points,function(i){i.draw()})},this)}})}).call(this);(function(){var c=this,b=c.Chart,d=b.helpers;var a={scaleShowLabelBackdrop:true,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:true,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:true,segmentShowStroke:true,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:true,animateScale:false,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};b.Type.extend({name:"PolarArea",defaults:a,initialize:function(e){this.segments=[];this.SegmentArc=b.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2});this.scale=new b.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:(this.options.scaleShowLine)?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:true,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:e.length});this.updateScaleRange(e);this.scale.update();d.each(e,function(g,f){this.addData(g,f,true)},this);if(this.options.showTooltips){d.bindEvents(this,this.options.tooltipEvents,function(f){var g=(f.type!=="mouseout")?this.getSegmentsAtEvent(f):[];d.each(this.segments,function(h){h.restore(["fillColor"])});d.each(g,function(h){h.fillColor=h.highlightColor});this.showTooltip(g)})}this.render()},getSegmentsAtEvent:function(h){var g=[];var f=d.getRelativePosition(h);d.each(this.segments,function(e){if(e.inRange(f.x,f.y)){g.push(e)}},this);return g},addData:function(h,g,e){var f=g||this.segments.length;this.segments.splice(f,0,new this.SegmentArc({fillColor:h.color,highlightColor:h.highlight||h.color,label:h.label,value:h.value,outerRadius:(this.options.animateScale)?0:this.scale.calculateCenterOffset(h.value),circumference:(this.options.animateRotate)?0:this.scale.getCircumference(),startAngle:Math.PI*1.5}));if(!e){this.reflow();this.update()}},removeData:function(f){var e=(d.isNumber(f))?f:this.segments.length-1;this.segments.splice(e,1);this.reflow();this.update()},calculateTotal:function(e){this.total=0;d.each(e,function(f){this.total+=f.value},this);this.scale.valuesCount=this.segments.length},updateScaleRange:function(f){var e=[];d.each(f,function(h){e.push(h.value)});var g=(this.options.scaleOverride)?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+(this.options.scaleSteps*this.options.scaleStepWidth)}:d.calculateScaleRange(e,d.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);d.extend(this.scale,g,{size:d.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments);d.each(this.segments,function(e){e.save()});this.render()},reflow:function(){d.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2});this.updateScaleRange(this.segments);this.scale.update();d.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2});d.each(this.segments,function(e){e.update({outerRadius:this.scale.calculateCenterOffset(e.value)})},this)},draw:function(f){var e=f||1;this.clear();d.each(this.segments,function(h,g){h.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(h.value)},e);h.endAngle=h.startAngle+h.circumference;if(g===0){h.startAngle=Math.PI*1.5}if(g<this.segments.length-1){this.segments[g+1].startAngle=h.endAngle}h.draw()},this);this.scale.draw()}})}).call(this);(function(){var b=this,a=b.Chart,c=a.helpers;a.Type.extend({name:"Radar",defaults:{scaleShowLine:true,angleShowLineOut:true,scaleShowLabels:false,scaleBeginAtZero:true,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:true,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:true,datasetStrokeWidth:2,datasetFill:true,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(d){this.PointClass=a.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx});this.datasets=[];this.buildScale(d);if(this.options.showTooltips){c.bindEvents(this,this.options.tooltipEvents,function(e){var f=(e.type!=="mouseout")?this.getPointsAtEvent(e):[];this.eachPoints(function(g){g.restore(["fillColor","strokeColor"])});c.each(f,function(g){g.fillColor=g.highlightFill;g.strokeColor=g.highlightStroke});this.showTooltip(f)})}c.each(d.datasets,function(f){var e={label:f.label||null,fillColor:f.fillColor,strokeColor:f.strokeColor,pointColor:f.pointColor,pointStrokeColor:f.pointStrokeColor,points:[]};this.datasets.push(e);c.each(f.data,function(g,h){if(c.isNumber(g)){var i;if(!this.scale.animation){i=this.scale.getPointPosition(h,this.scale.calculateCenterOffset(g))}e.points.push(new this.PointClass({value:g,label:d.labels[h],datasetLabel:f.label,x:(this.options.animation)?this.scale.xCenter:i.x,y:(this.options.animation)?this.scale.yCenter:i.y,strokeColor:f.pointStrokeColor,fillColor:f.pointColor,highlightFill:f.pointHighlightFill||f.pointColor,highlightStroke:f.pointHighlightStroke||f.pointStrokeColor}))}},this)},this);this.render()},eachPoints:function(d){c.each(this.datasets,function(e){c.each(e.points,d,this)},this)},getPointsAtEvent:function(d){var i=c.getRelativePosition(d),f=c.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},i);var e=(Math.PI*2)/this.scale.valuesCount,g=Math.round((f.angle-Math.PI*1.5)/e),h=[];if(g>=this.scale.valuesCount||g<0){g=0}if(f.distance<=this.scale.drawingArea){c.each(this.datasets,function(j){h.push(j.points[g])})}return h},buildScale:function(d){this.scale=new a.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:(this.options.scaleShowLine)?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:(this.options.angleShowLineOut)?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:d.labels,valuesCount:d.datasets[0].data.length});this.scale.setScaleSize();this.updateScaleRange(d.datasets);this.scale.buildYLabels()},updateScaleRange:function(e){var d=(function(){var g=[];c.each(e,function(h){if(h.data){g=g.concat(h.data)}else{c.each(h.points,function(i){g.push(i.value)})}});return g})();var f=(this.options.scaleOverride)?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+(this.options.scaleSteps*this.options.scaleStepWidth)}:c.calculateScaleRange(d,c.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);c.extend(this.scale,f)},addData:function(e,d){this.scale.valuesCount++;c.each(e,function(f,h){if(c.isNumber(f)){var g=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(f));this.datasets[h].points.push(new this.PointClass({value:f,label:d,x:g.x,y:g.y,strokeColor:this.datasets[h].pointStrokeColor,fillColor:this.datasets[h].pointColor}))}},this);this.scale.labels.push(d);this.reflow();this.update()},removeData:function(){this.scale.valuesCount--;this.scale.labels.shift();c.each(this.datasets,function(d){d.points.shift()},this);this.reflow();this.update()},update:function(){this.eachPoints(function(d){d.save()});this.reflow();this.render()},reflow:function(){c.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:c.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2});this.updateScaleRange(this.datasets);this.scale.setScaleSize();this.scale.buildYLabels()},draw:function(f){var e=f||1,d=this.chart.ctx;this.clear();this.scale.draw();c.each(this.datasets,function(g){c.each(g.points,function(h,i){h.transition(this.scale.getPointPosition(i,this.scale.calculateCenterOffset(h.value)),e)},this);d.lineWidth=this.options.datasetStrokeWidth;d.strokeStyle=g.strokeColor;d.beginPath();c.each(g.points,function(h,i){if(i===0){d.moveTo(h.x,h.y)}else{d.lineTo(h.x,h.y)}},this);d.closePath();d.stroke();d.fillStyle=g.fillColor;d.fill();c.each(g.points,function(h){h.draw()})},this)}})}).call(this);